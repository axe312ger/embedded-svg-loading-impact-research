mixin image(image)
  .card
    .card-image
      if image.dataURI
        div.image-wrapper(style=`background-image: url("${image.dataURI}");`)
          div(style='padding-bottom: 50%;')
            img.image(src=`./prepared/${image.prepared.name}.jpg`)
      else
        img(src=`./prepared/${image.prepared.name}.jpg` style=`display: block !important;`)
    .card-header
      div.card-title.h5= image.title
      if image.primitiveOptions
        div.card-subtitle.text-gray= `${image.primitiveOptions.numberOfPrimitives} × ${image.primitiveOptions.modeTitle} — ${image.width}px`
    .card-body
      if image.primitive
        table.table.table-hover
          tr
            td Original size:
            td=`${image.primitive.optimizedSizes.original}B`
            td=prettysize(image.primitive.optimizedSizes.original)
          tr
            td Gzip size:
            td=`${image.primitive.optimizedSizes.gzip}B`
            td=prettysize(image.primitive.optimizedSizes.gzip)
          tr
          td Brotli size:
          td=`${image.primitive.optimizedSizes.brotli}B`
          td=prettysize(image.primitive.optimizedSizes.brotli)
      button.btn(onClick=`document.getElementById('${image.hash}').className='modal active'`) Show Full Data
      .modal(id=image.hash)
        a.modal-overlay(href='#close', aria-label='Close', onClick=`document.getElementById('${image.hash}').className='modal'`)
        .modal-container
          .modal-header
            a.btn.btn-clear.float-right(href='#close', aria-label='Close', onClick=`document.getElementById('${image.hash}').className='modal'`)
            .modal-title.h5= `${image.title} Data Set`
          .modal-body
            .content
              pre.code(style='font-size: 0.8em;')
                code= image.configString
